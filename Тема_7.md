# Тема 7. Работа с файлами (ввод, вывод).
Отчёт по теме #7 выполнил:

- Андреев Сергей Андреевич
- АИС-22-1

| Задание | Лаб_раб | Сам_Раб |
| :------------ | :------------ | :------------ |
| Задание 1 | + | + |
| Задание 2 | + | + |
| Задание 3 | + | + |
| Задание 4 | + | + |
| Задание 5 | + | + |
| Задание 6 | + | - |
| Задание 7 | + | - |
| Задание 8 | + | - |
| Задание 9 | + | - |
| Задание 10 | + | - |

знак "+" - задание выполнено; знак "-" - задание не выполнено

Работу проверил:

- к.э.н., доцент Панов М.А.

# Лабораторная работа №7.

## 1. Составьте текстовый файл и положите его в одну директорию с программой на Python. Текстовый файл должен состоять минимум из двух строк.

**Результат:**

![image](https://github.com/user-attachments/assets/9a94f9a4-11c4-4552-9649-fd813791d933)


**Вывод:**

Файл успешно создан и сохранен в той же директории, что и программа. Структура и содержимое файла соответствует требованиям задания.

## 2. Напишите программу, которая выведет только первую строку из вашего файла, при этом используйте конструкцию open()/close().

```python
f = open('input.txt', 'r')
print(f.readline())
f.close()
```

**Результат:**

![image](https://github.com/user-attachments/assets/e03d4bf7-6fd1-461b-88f4-617dbe17b4b3)


**Вывод:**

Программа корректно выводит первую строку файла с использованием функций open() и close(). Ресурсы освобождаются после чтения.

## 3. Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию open()/close().

```python
f = open('input.txt', 'r')
print(f.readlines())
f.close()
```

**Результат:**

![image](https://github.com/user-attachments/assets/ea60d1a3-107e-4920-95b0-704aa20aa813)


**Вывод:**

Все строки файла корректно считываются и выводятся в виде массива (списка) с использованием функций open() и close().

## 4. Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию with open().

```python
with open('input.txt') as f:
    print(f.readlines())
```

**Результат:**

![image](https://github.com/user-attachments/assets/414925b4-0a31-4267-88fc-2cc47fbb3170)


**Вывод:**

Программа корректно использует конструкцию with open(), автоматически закрывая файл после завершения чтения, и выводит все строки файла в массиве (списке).

## 5. Напишите программу, которая выведет каждую строку из вашего файла отдельно, при этом используйте конструкцию with open().

```python
with open('input.txt') as f:
    for line in f:
        print(line)
```

**Результат:**

![image](https://github.com/user-attachments/assets/5abf9152-d479-4cf8-894c-bf88bf2c6a84)


**Вывод:**

Программа выводит каждую строку файла отдельно с помощью цикла for, используя безопасную конструкцию with open(), которая автоматически закрывает файл после завершения работы.

## 6. Напишите программу, которая будет добавлять новую строку в ваш файл, а потом выведет полученный файл в консоль. Вывод можно осуществлять любым способом. Обязательно проверьте сам файл, чтобы изменения в нем тоже отображались.

```python
with open('input.txt', 'a+') as f:
    f.write('\n456')

with open('input.txt', 'r') as f:
    result = f.readlines()
    print(result)
```

**Результат:**

![image](https://github.com/user-attachments/assets/c6792274-2256-4e8f-a9f2-388c4fbdb946)

**Вывод:**

Программа успешно добавляет новую строку в конец файла и корректно отображает обновленное содержимое файла. Проверка файла подтверждает сохранение изменений.

## 7. Напишите программу, которая перепишет всю информацию, которая была у вас в файле до этого, например напишет любые данные из произвольно вами составленного списка. Также не забудьте проверить что измененная вами информация сохранилась в файле.

```python
with open('input.txt', 'r') as f:
    lines = f.readlines()
for i in range(len(lines)):
    lines[i] = 'Строка номер ' + str(i+1) + '\n'
with open('input.txt', 'w') as f:
    f.writelines(lines)

print('Done!')
```

**Результат:**

![image](https://github.com/user-attachments/assets/1b210366-983a-435b-96a6-0926fb4750db)


**Вывод:**

Программа успешно переписывает содержимое файла новыми строками, предоставленными пользователем. Проверка файла подтверждает, что изменения были сохранены.

## 8. Выберите любую папку на своем компьютере, имеющую вложенные директории. Выведите на печать в терминал ее содержимое, как и всех подкаталогов при помощи функции print_docs(directory).

```python
from os import walk

def print_docs(directory):
    allfiles = walk(directory)
    for catalog in allfiles:
        print(f'Папка {catalog[0]} содержит:')
    print(f'Директории: {", ".join([folder for folder in catalog[1]])}')
    print(f'Файлы: {", ".join([file for file in catalog[2]])}')
    print('-' * 40)

print_docs('D:/Program Files/WinRAR')
```

**Результат:**

![image](https://github.com/user-attachments/assets/e385427d-068f-45df-8baa-f68493de1ce6)

**Вывод:**

Программа корректно обрабатывает содержимое указанной папки и всех ее подкаталогов, выводя информацию о каждом каталоге и файлах, содержащихся в них.

## 9. Документ «input.txt» содержит следующий текст:
Приветствие

Спасибо

Извините

Пожалуйста

До свидания

Ты готов?

Как дела?

С днем рождения!

Удача!

Я тебя люблю.

Требуется реализовать функцию, которая выводит слово, имеющее максимальную длину (или список слов, если таковых несколько). Проверьте работоспособность программы на своем наборе данных.

```python
def longest_words(file):
    with open(file, encoding='ср1251') as f:
        words = f.read().split()
        max_length = len(max(words, key = len))
        for word in words:
            if len(word) == max_length:
                sought_words = word

        if len(sought_words) == 1:
            return sought_words[0]
        return sought_words

print(longest_words('input.txt'))
```

**Результат:**

![image](https://github.com/user-attachments/assets/c4e40ad0-df44-4f69-85c4-a1ee035f0fe5)

**Вывод:**

Программа успешно находит слово (или слова) с максимальной длиной в файле и выводит их. Программа проверена на различных наборах данных.

## 10. Требуется создать csv-файл «rows_300.csv» со следующими столбцами:
• № - номер по порядку (от 1 до 300);

• Секунда – текущая секунда на вашем ПК;

• Микросекунда – текущая миллисекунда на часах.


Для наглядности на каждой итерации цикла искусственно приостанавливайте скрипт на 0,01 секунды.

```python
from csv import writer
from time import sleep
from datetime import datetime

with open('rows_300.csv', 'w', encoding='utf-8', newline='') as f:
    writer = writer(f)
    writer.writerow(['№', 'Секунда ', 'Микросекунда'])
    for line in range(1, 301):
        writer.writerow([line, datetime.now().second,
                         datetime.now().microsecond])
        sleep(0.01)
```

**Результат:**

![image](https://github.com/user-attachments/assets/8f96a5f8-9456-4623-aa14-c5a8c93c9cb6)


**Вывод:**

Программа успешно создает файл CSV, содержащий 300 строк, с правильным указанием текущей секунды и микросекунды. Файл проверен, данные записаны корректно.

# Самостоятельная работа №7.

## 1. Найдите в интернете любую статью (объем статьи не менее 200 слов), скопируйте ее содержимое в файл и напишите программу, которая считает количество слов в текстовом файле и определит самое часто встречающееся слово.
Результатом выполнения задачи будет: скриншот файла со статьей, листинг кода, и вывод в консоль, в котором будет указана вся необходимая информация.

```python
# Открытие файла и чтение содержимого
with open('article.txt', 'r', encoding='utf-8') as file:
    text = file.read()

# Приведение текста к нижнему регистру и разбиение на слова
words = text.lower().split()

# Подсчет количества слов
word_count = len(words)

# Поиск самого частого слова
word_frequency = {}
for word in words:
    if word in word_frequency:
        word_frequency[word] += 1
    else:
        word_frequency[word] = 1

# Поиск слова с максимальной частотой
most_common_word = ''
max_count = 0
for word, count in word_frequency.items():
    if count > max_count:
        most_common_word = word
        max_count = count

# Вывод результатов
print(f"Количество слов в статье: {word_count}")
print(f"Самое часто встречающееся слово: '{most_common_word}' встречается {max_count} раз(а)")
```

**Результат:**

![image](https://github.com/user-attachments/assets/79e4afa3-3de3-425f-8135-3608d8a78440)

![image](https://github.com/user-attachments/assets/4deab12a-b267-4ac8-ae38-78d3142a207d)


**Вывод:**

Программа успешно считает количество слов в статье и находит самое часто встречающееся слово. Она использует циклы для анализа текста и подбора наибольшего по частоте слова без использования встроенных коллекций Python.

## 2. У вас появилась потребность в ведении книги расходов, посмотрев все существующие варианты вы пришли к выводу что вас ничего не устраивает и нужно все делать самому. Напишите программу для учета расходов.
Программа должна позволять вводить информацию о расходах, сохранять ее в файл и выводить существующие данные в консоль. Ввод информации происходит через консоль. Результатом выполнения задачи будет: скриншот файла с учетом расходов, листинг кода, и вывод в консоль, с демонстрацией работоспособности программы.

```python
# Функция для добавления расхода
def add_expense(filename, description, amount):
    with open(filename, 'a') as file:
        file.write(f"{description}: {amount}\n")

# Функция для отображения всех расходов
def show_expenses(filename):
    try:
        with open(filename, 'r') as file:
            expenses = file.readlines()
            if not expenses:
                print("Нет данных о расходах.")
            else:
                print("Ваши расходы:")
                for line in expenses:
                    print(line.strip())
    except FileNotFoundError:
        print("Файл не найден. Создайте его, добавив первый расход.")

# Основной блок программы
filename = 'expenses.txt'

while True:
    choice = input("Введите '1' для добавления расхода, '2' для просмотра расходов, или 'q' для выхода: ")
    if choice == '1':
        description = input("Описание расхода: ")
        amount = input("Сумма расхода: ")
        add_expense(filename, description, amount)
    elif choice == '2':
        show_expenses(filename)
    elif choice == 'q':
        print("Программа завершена.")
        break
    else:
        print("Неверный ввод. Попробуйте снова.")
```

**Результат:**

![image](https://github.com/user-attachments/assets/57ff365d-d7b8-462d-afd0-545579e84185)

![image](https://github.com/user-attachments/assets/1a1528fc-1082-4157-a75a-c64bd6d2414c)

**Вывод:**

Программа для учета расходов работает корректно: позволяет добавлять новые расходы, сохраняет их в файл и выводит список существующих расходов. Ввод и вывод данных осуществляется через консоль, и программа работает до тех пор, пока пользователь не решит её завершить.

## 3. Имеется файл input.txt с текстом на латинице. Напишите программу, которая выводит следующую статистику по тексту: количество букв латинского алфавита; число слов; число строк.

• Текст в файле:

Beautiful is better than ugly.

Explicit is better than implicit.

Simple is better than complex.

Complex is better than complicated.

• Ожидаемый результат:

Input file contains:

108 letters

20 words

4 lines

```python
# Открытие файла и чтение содержимого
with open('input.txt', 'r') as file:
    lines = file.readlines()

# Подсчет строк, слов и букв
line_count = len(lines)
word_count = sum(len(line.split()) for line in lines)
letter_count = sum(len([char for char in line if char.isalpha()]) for line in lines)

# Вывод статистики
print(f"Input file contains:")
print(f"{letter_count} letters")
print(f"{word_count} words")
print(f"{line_count} lines")
```

**Результат:**

![image](https://github.com/user-attachments/assets/fadcfeee-fab1-46ce-9422-b77315eb15d8)

**Вывод:**

Программа корректно подсчитывает количество строк, слов и букв в файле, выводя на экран статистику в требуемом формате.

## 4. Напишите программу, которая получает на вход предложение,выводит его в терминал, заменяя все запрещенные слова звездочками * (количество звездочек равно количеству букв в слове).

Запрещенные слова, разделенные символом пробела, хранятся в текстовом файле input.txt.

Все слова в этом файле записаны в нижнем регистре.

Программа должна заменить запрещенные слова, где бы они ни встречались, даже в середине другого слова.

Замена производится независимо от регистра: если файл input.txt содержит запрещенное слово exam, то слова exam, Exam, ExaM, EXAM и exAm должны быть заменены на ****.

• Запрещенные слова:

hello email python the exam wor is

• Предложение для проверки:

Hello, world! Python IS the programming language of thE future. My EMAIL is....

PYTHON is awesome!!!!

• Ожидаемый результат:

*****, ***ld! ****** ** *** programming language of *** future. My ***** **....

****** ** awesome!!!!

```python
# Чтение списка запрещенных слов из файла
with open('input.txt', 'r') as file:
    forbidden_words = file.read().split()

# Функция для замены запрещенных слов
def censor_sentence(sentence, forbidden_words):
    # Приведение строки к нижнему регистру и замена запрещенных слов
    censored_sentence = sentence.lower()
    for word in forbidden_words:
        censored_sentence = censored_sentence.replace(word, '*' * len(word))
    return censored_sentence

# Тестовое предложение
sentence = "Hello, world! Python IS the programming language of thE future. My EMAIL is.... PYTHON is awesome!!!!"

# Замена запрещенных слов
censored_sentence = censor_sentence(sentence, forbidden_words)
print(censored_sentence)
```

**Результат:**

![image](https://github.com/user-attachments/assets/ef98e091-af36-4fff-b2fc-eb364105d7f5)

**Вывод:**

Программа заменяет все запрещенные слова на звездочки, независимо от регистра. Это работает для всех слов, указанных в файле с запрещенными словами, даже если они встречаются в середине других слов.

## 5. Самостоятельно придумайте и решите задачу, которая будет взаимодействовать с текстовым файлом - программа, которая выводит уникальные слова из текстового файла в алфавитном порядке.

```python
# Библиотека re для регулярных выражений
import re

# Открытие файла и чтение содержимого
with open('lorem_ipsum.txt', 'r') as file:
    text = file.read()

# Преобразование текста в список уникальных слов
words = set(re.split(r'[,.\n? ]+',text.lower()))

# Сортировка уникальных слов в алфавитном порядке
sorted_words = sorted(words)

# Вывод уникальных слов
print("Уникальные слова в тексте в алфавитном порядке:")
for word in sorted_words:
    print(word)
```

**Результат:**

![image](https://github.com/user-attachments/assets/c62789a1-c395-448b-bbeb-61ef18b12623)

**Вывод:**

Программа успешно выводит все уникальные слова из файла в алфавитном порядке, игнорируя регистр букв.
